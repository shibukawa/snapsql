{"cel_environments":[{"index":0,"additional_variables":[{"name":"card_id","type":"int"},{"name":"body","type":"string"},{"name":"card_id","type":"int","value":1},{"name":"body","type":"string","value":"dummy"}],"container":"root"}],"cel_expressions":[{"id":"expr_001","expression":"card_id","environment_index":0,"position":{"line":28,"column":5},"type_descriptor":"int","result_type":1},{"id":"expr_002","expression":"body","environment_index":0,"position":{"line":30,"column":5},"type_descriptor":"string","result_type":1}],"description":"Adds a comment to a card and returns the stored row, enabling optimistic UI updates.","format_version":"1","function_name":"card_comment_create","instructions":[{"op":"EMIT_STATIC","pos":"18:1","value":"INSERT INTO card_comments ( card_id, body , created_at, updated_at, created_by, updated_by) VALUES ( "},{"op":"EMIT_EVAL","pos":"28:5","expr_index":0},{"op":"EMIT_STATIC","pos":"28:20","value":", "},{"op":"EMIT_EVAL","pos":"30:5","expr_index":1},{"op":"EMIT_STATIC","pos":"31:0","value":" , "},{"op":"EMIT_SYSTEM_VALUE","default_value":"NOW()","system_field":"created_at"},{"op":"EMIT_STATIC","value":", "},{"op":"EMIT_SYSTEM_VALUE","default_value":"NOW()","system_field":"updated_at"},{"op":"EMIT_STATIC","value":", "},{"op":"EMIT_SYSTEM_VALUE","default_value":"\u003cnil\u003e","system_field":"created_by"},{"op":"EMIT_STATIC","value":", "},{"op":"EMIT_SYSTEM_VALUE","default_value":"\u003cnil\u003e","system_field":"updated_by"},{"op":"EMIT_STATIC","pos":"32:1","value":")\n\nRETURNING id, card_id, body, created_at"}],"parameters":[{"name":"card_id","type":"int"},{"name":"body","type":"string"}],"response_affinity":"one","responses":[{"name":"id","type":"int","is_nullable":true,"hierarchy_key_level":1},{"name":"card_id","type":"int"},{"name":"body","type":"string"},{"name":"created_at","type":"datetime"}],"statement_type":"insert","table_references":[{"name":"card_comments","table_name":"card_comments","context":"main"}],"warnings":["type inference failed: failed to infer RETURNING clause: failed to infer RETURNING field: column not found in any available table: id"]}