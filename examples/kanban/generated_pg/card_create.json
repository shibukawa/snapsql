{"cel_environments":[{"index":0,"additional_variables":[{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"position","type":"float"},{"name":"title","type":"string","value":"dummy"},{"name":"description","type":"string","value":"dummy"},{"name":"position","type":"float","value":1.1}],"container":"root"}],"cel_expressions":[{"id":"expr_001","expression":"title","environment_index":0,"position":{"line":45,"column":5},"type_descriptor":"string","result_type":1},{"id":"expr_002","expression":"description","environment_index":0,"position":{"line":47,"column":5},"type_descriptor":"string","result_type":1},{"id":"expr_003","expression":"position","environment_index":0,"position":{"line":49,"column":5},"type_descriptor":"float","result_type":1}],"description":"Creates a card within a list and returns the inserted row for client-side refresh.","format_version":"1","function_name":"card_create","instructions":[{"op":"EMIT_STATIC","pos":"19:1","value":"INSERT INTO cards ( list_id, title, description, position , created_at, updated_at, created_by, updated_by) VALUES ( (SELECT l.id FROM lists AS l JOIN boards b ON l.board_id = b.id WHERE b.status = 'active' ORDER BY l.stage_order ASC LIMIT 1), "},{"op":"EMIT_EVAL","pos":"45:5","expr_index":0},{"op":"EMIT_STATIC","pos":"45:35","value":", "},{"op":"EMIT_EVAL","pos":"47:5","expr_index":1},{"op":"EMIT_STATIC","pos":"47:42","value":", "},{"op":"EMIT_EVAL","pos":"49:5","expr_index":2},{"op":"EMIT_STATIC","pos":"50:0","value":" , "},{"op":"EMIT_SYSTEM_VALUE","default_value":"NOW()","system_field":"created_at"},{"op":"EMIT_STATIC","value":", "},{"op":"EMIT_SYSTEM_VALUE","default_value":"NOW()","system_field":"updated_at"},{"op":"EMIT_STATIC","value":", "},{"op":"EMIT_SYSTEM_VALUE","default_value":"\u003cnil\u003e","system_field":"created_by"},{"op":"EMIT_STATIC","value":", "},{"op":"EMIT_SYSTEM_VALUE","default_value":"\u003cnil\u003e","system_field":"updated_by"},{"op":"EMIT_STATIC","pos":"51:1","value":")\n\nRETURNING id, list_id, title, description, position, created_at, updated_at"}],"parameters":[{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"position","type":"float"}],"response_affinity":"one","responses":[{"name":"id","type":"int","is_nullable":true,"hierarchy_key_level":1},{"name":"list_id","type":"int"},{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"position","type":"float"},{"name":"created_at","type":"datetime"},{"name":"updated_at","type":"datetime"}],"statement_type":"insert","table_references":[{"name":"cards","table_name":"cards","context":"main"}],"warnings":["type inference failed: failed to infer RETURNING clause: failed to infer RETURNING field: column not found in any available table: id"]}