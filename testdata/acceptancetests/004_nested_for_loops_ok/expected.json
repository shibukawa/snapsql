{
  "envs": [
    [],
    [
      {"name": "dept", "type": "any"}
    ],
    [
      {"name": "dept", "type": "any"},
      {"name": "dept", "type": "any"}
    ],
    [
      {"name": "dept", "type": "any"},
      {"name": "dept", "type": "any"},
      {"name": "sub", "type": "any"}
    ]
  ],
  "expressions": [
    "departments",
    "dept",
    "dept.sub_departments",
    "sub",
    "dept.department_code + \"-\" + sub.id",
    "sub.name",
    "dept.department_code",
    "dept.department_name"
  ],
  "format_version": "1",
  "function_name": "insert_all_sub_departments",
  "instructions": [
    {"op": "EMIT_STATIC", "pos": "14:1", "value": "INSERT INTO sub_departments (id, name, department_code, department_name) VALUES"},
    {
      "op": "LOOP_START",
      "pos": "16:1",
      "variable": "dept",
      "collection_expr_index": 0,
      "env_index": 2
    },
    {
      "op": "LOOP_START",
      "pos": "17:5",
      "variable": "sub",
      "collection_expr_index": 2,
      "env_index": 4
    },
    {"op": "EMIT_STATIC", "pos": "18:5", "value": "("},
    {"op": "EMIT_EVAL", "pos": "18:6", "expr_index": 4},
    {"op": "EMIT_STATIC", "pos": "18:55", "value": ","},
    {"op": "EMIT_EVAL", "pos": "18:57", "expr_index": 5},
    {"op": "EMIT_STATIC", "pos": "18:92", "value": ","},
    {"op": "EMIT_EVAL", "pos": "18:94", "expr_index": 6},
    {"op": "EMIT_STATIC", "pos": "18:124", "value": ","},
    {"op": "EMIT_EVAL", "pos": "18:126", "expr_index": 7},
    {"op": "EMIT_STATIC", "pos": "18:166", "value": ")"},
    {"op": "LOOP_END", "pos": "19:5", "env_index": 2},
    {"op": "LOOP_END", "pos": "20:1", "env_index": 0}
  ],
  "name": "insert_all_sub_departments",
  "parameters": [
    {"name": "departments", "type": "any"}
  ],
  "response_affinity": "none",
  "responses": [
    {"name": "affected_rows", "type": "int"}
  ]
}