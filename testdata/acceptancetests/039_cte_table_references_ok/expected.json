{
  "cel_environments": [
    {
      "index": 0,
      "additional_variables": [],
      "container": "root"
    }
  ],
  "cel_expressions": [],
  "format_version": "1",
  "function_name": "input",
  "instructions": [
    {"op": "EMIT_STATIC", "pos": "4:1", "value": "WITH active_users AS ( SELECT u.id, u.name, u.email FROM users u JOIN user_status us ON u.id = us.user_id WHERE us.status = 'active' ) SELECT au.id, au.name, au.email, o.total FROM active_users au LEFT JOIN orders o ON au.id = o.user_id"},
    {"op": "IF_SYSTEM_LIMIT", "pos": "0:0"},
    {"op": "EMIT_STATIC", "pos": "0:0", "value": " LIMIT "},
    {"op": "EMIT_SYSTEM_LIMIT", "pos": "0:0"},
    {"op": "END", "pos": "0:0"},
    {"op": "IF_SYSTEM_OFFSET", "pos": "0:0"},
    {"op": "EMIT_STATIC", "pos": "0:0", "value": " OFFSET "},
    {"op": "EMIT_SYSTEM_OFFSET", "pos": "0:0"},
    {"op": "END", "pos": "0:0"},
    {"op": "EMIT_FOR_CLAUSE", "pos": "12:33"}
  ],
  "response_affinity": "many",
  "responses": [
    {"name": "id", "type": "integer", "hierarchy_key_level": 1},
    {"name": "name", "type": "text"},
    {"name": "email", "type": "text"},
    {"name": "total", "type": "numeric", "is_nullable": true}
  ],
  "table_references": [
    {
      "name": "users",
      "table_name": "users",
      "alias": "u",
      "query_name": "active_users",
      "context": "cte"
    },
    {
      "name": "user_status",
      "table_name": "user_status",
      "alias": "us",
      "query_name": "active_users",
      "context": "cte"
    },
    {"name": "active_users", "alias": "au", "context": "main"},
    {"name": "orders", "table_name": "orders", "alias": "o", "context": "join"}
  ],
  "warnings": [
    "type inference failed: validation error: Subquery node active_users has no type information"
  ]
}